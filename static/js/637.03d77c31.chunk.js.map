{"version":3,"file":"static/js/637.03d77c31.chunk.js","mappings":"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","sources":["pages/LoginPage.jsx","../node_modules/@mui/icons-material/Login.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useLoginMutation } from '../redux/authorization/api';\nimport { setIsLoggedIn } from '../redux/authorization/slice';\nimport {\n    Button,\n    TextField,\n    Box,\n    CircularProgress,\n    OutlinedInput,\n    InputLabel,\n    FormControl,\n} from '@mui/material';\nimport LoginIcon from '@mui/icons-material/Login';\nimport { useSnackbar } from 'notistack';\nimport { buttonSX } from 'components/styles/styles';\n\nexport default function LoginPage() {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [showPassword] = useState(false);\n    const dispatch = useDispatch();\n    const { enqueueSnackbar } = useSnackbar();\n    const [login, { data, isLoading, isSuccess, isError, error }] =\n        useLoginMutation();\n\n    const handleSubmit = async e => {\n        e.preventDefault();\n        await login({ email: email, password: password });\n        setEmail('');\n        setPassword('');\n    };\n\n    const handleChange = ({ target: { name, value } }) => {\n        switch (name) {\n            case 'email':\n                return setEmail(value);\n            case 'password':\n                return setPassword(value);\n            default:\n                return;\n        }\n    };\n\n    useEffect(() => {\n        if (isSuccess) {\n            dispatch(\n                setIsLoggedIn({\n                    user: { name: data.user.name, email: data.user.email },\n                    token: data.token,\n                })\n            );\n            enqueueSnackbar('You have logged in successfully', {\n                variant: 'success',\n            });\n        }\n\n        if (isError && error?.originalStatus === 404) {\n            enqueueSnackbar(\"Sorry, we can't find this page\", {\n                variant: 'error',\n            });\n        } else if (isError && error?.status === 400) {\n            enqueueSnackbar('Invalid email or password', {\n                variant: 'error',\n            });\n        } else if (isError && error?.status === 'FETCH_ERROR') {\n            enqueueSnackbar('Internet is disconnected', {\n                variant: 'error',\n            });\n        } else if (isError) {\n            enqueueSnackbar('Something went wrong, please try again later', {\n                variant: 'error',\n            });\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [dispatch, isSuccess, isError, error?.originalStatus, error?.status]);\n\n    return (\n        <Box\n            component=\"form\"\n            onSubmit={handleSubmit}\n            sx={{\n                padding: '2rem',\n                maxWidth: '20rem',\n                display: 'grid',\n                gridTemplateColumns: '1fr',\n                gridGap: '0.3rem',\n                alignItems: 'baseline',\n            }}\n        >\n            <TextField\n                label=\"Mail\"\n                size=\"small\"\n                margin=\"normal\"\n                type=\"email\"\n                name=\"email\"\n                value={email}\n                onChange={handleChange}\n                required\n            />\n            <FormControl variant=\"outlined\">\n                <InputLabel\n                    htmlFor=\"outlined-adornment-password\"\n                    sx={{ lineHeight: '2.4375em' }}\n                >\n                    Password *\n                </InputLabel>\n                <OutlinedInput\n                    id=\"outlined-adornment-password\"\n                    type={showPassword ? 'text' : 'password'}\n                    label=\"Password\"\n                    name=\"password\"\n                    value={password}\n                    onChange={handleChange}\n                    size=\"small\"\n                    sx={{ m: '1rem 0', lineHeight: '4em' }}\n                />\n            </FormControl>\n            <Button\n                variant=\"contained\"\n                type=\"submit\"\n                margin=\"normal\"\n                sx={buttonSX}\n                endIcon={\n                    isLoading ? (\n                        <CircularProgress\n                            size={16}\n                            thickness={6}\n                            color=\"inherit\"\n                        />\n                    ) : (\n                        <LoginIcon />\n                    )\n                }\n            >\n                Log in\n            </Button>\n        </Box>\n    );\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z\"\n}), 'Login');\n\nexports.default = _default;"],"names":["LoginPage","useState","email","setEmail","password","setPassword","showPassword","dispatch","useDispatch","enqueueSnackbar","useSnackbar","useLoginMutation","login","data","isLoading","isSuccess","isError","error","handleSubmit","e","preventDefault","handleChange","target","name","value","useEffect","setIsLoggedIn","user","token","variant","originalStatus","status","component","onSubmit","sx","padding","maxWidth","display","gridTemplateColumns","gridGap","alignItems","label","size","margin","type","onChange","required","htmlFor","lineHeight","id","m","buttonSX","endIcon","thickness","color","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}